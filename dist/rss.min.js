!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).RSS=t()}(this,(function(){"use strict";function e(e=""){let t="";for(let s=0;s<e.length;s++){let r=e.charAt(s);r.toLowerCase()!=r&&(t+="-"),t+=r.toLowerCase()}return t}class t{hook=(e,t,s)=>({});constructor(e){this.hook=e}}class s{elements=[];ruleSets=[];query="";constructor(e){this.query=e}ruleset(e){let s=e;"object"==typeof e&&(s=()=>e);let r=new t(s);this.ruleSets.push(r),i.update()}render(t){let s=document.querySelectorAll(this.query);for(let r=0;r<s.length;r++){let l=s[r],o={};for(let s of this.ruleSets){let i=s.hook(l,r,t);for(let t in i)o[e(t)]=i[t]}let n=i._getStyleElement(),a="";a=l.dataset.rssId?l.dataset.rssId:Math.random().toFixed(10).replace("0.","");let d=`[data-rssId="${a}"],[data-rss-id="${a}"]{`;for(let e in o)d+=e+":"+o[e]+";";d+="}",n.innerHTML+=d,l.dataset.rssId=a}}}class r extends s{states=[];constructor(e,t){super(e),this.states="string"==typeof t?[t]:t}render(t){let s=document.querySelectorAll(this.query);for(let r=0;r<s.length;r++){let l=s[r],o={};for(let s of this.ruleSets){let i=s.hook(l,r,t);for(let t in i)o[e(t)]=i[t]}let n=i._getStyleElement(),a="";a=l.dataset.rssId?l.dataset.rssId:Math.random().toFixed(10).replace("0.","");let d="";for(let e of this.states)d+=`[data-rssId="${a}"]:${e},[data-rss-id="${a}"]:${e}`,d+=",";d=d.substring(0,d.lastIndexOf(",")),d+="{";for(let e in o)d+=e+":"+o[e]+";";d+="}",n.innerHTML+=d,l.dataset.rssId=a}}}class i{static selectors=[];static _props={};static _initialized=!1;static sayHello(e){console.log("hello",e)}static update(){if(!this._initialized)return;this._getStyleElement().innerHTML="";for(let e of this.selectors)e.render(this._props)}static select(e,t){let i;return i=t?new r(e,t):new s(e),this.selectors.push(i),i}static getProps(){return this._props}static setProps(e){for(let t in e)this._props[t]=e[t];this.update()}static initialize(){if(this._initialized)return;this._initialized=!0,i.update(),new MutationObserver((()=>{i.update()})).observe(document.body,{childList:!0,subtree:!0})}static _getStyleElement(){if(!this._initialized)return!1;let e=document.querySelector("style#rssHead");return e||(e=document.createElement("style"),e.id="rssHead",document.head.appendChild(e)),e}}return i}));
