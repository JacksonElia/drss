!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).RSS=t()}(this,(function(){"use strict";function e(e=""){let t="";for(let s=0;s<e.length;s++){let r=e.charAt(s);r.toUpperCase()==r&&(t+="-"),t+=r.toLowerCase()}return t}class t{hook=(e,t,s)=>({});constructor(e){this.hook=e}}class s{elements=[];ruleSets=[];query="";constructor(e){this.query=e}ruleset(e){let s=e;"object"==typeof e&&(s=()=>e);let r=new t(s);this.ruleSets.push(r),o.update()}render(t){let s=document.querySelectorAll(this.query);for(let r=0;r<s.length;r++){let o=s[r],l={};for(let e of this.ruleSets){let s=e.hook(o,r,t);for(let e in s)l[e]=s[e]}for(let t in l)o.style.setProperty("--normal-"+e(t),l[t]),o.style[t]="var(--normal-"+e(t)+")"}}}class r extends s{states=[];constructor(e,t){super(e),this.states="string"==typeof t?[t]:t}render(t){let s=document.querySelectorAll(this.query);for(let r=0;r<s.length;r++){let o=s[r],l={};for(let e of this.ruleSets){let s=e.hook(o,r,t);for(let e in s)l[e]=s[e]}this.states.includes("hover")&&(o.addEventListener("mouseenter",(()=>{for(let t in l)o.style.setProperty("--hover-"+e(t),l[t]),o.style[t]="var(--hover-"+e(t)+")"})),o.addEventListener("mouseleave",(()=>{for(let t in l)o.style[t]="var(--normal-"+e(t)+")"}))),this.states.includes("focus")&&(o.addEventListener("focus",(()=>{for(let t in l)o.style.setProperty("--focus-"+e(t),l[t]),o.style[t]="var(--focus-"+e(t)+")"})),o.addEventListener("blur",(()=>{for(let t in l)o.style[t]="var(--normal-"+e(t)+")"})))}}}class o{static selectors=[];static _props={};static sayHello(e){console.log("hello",e)}static update(){for(let e of this.selectors)e.render(this._props)}static select(e,t){let o;return o=t?new r(e,t):new s(e),this.selectors.push(o),o}static getProps(){return this._props}static setProps(e){for(let t in e)this._props[t]=e[t];this.update()}static initialize(){o.update(),new MutationObserver((()=>{o.update()})).observe(document.body,{childList:!0,subtree:!0})}}return o}));
